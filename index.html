<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>코코 닮은꼴 테스트</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    * { box-sizing: border-box; }

    body {
      font-family: 'Pretendard', 'Noto Sans KR', system-ui, sans-serif;
      max-width: 480px;
      margin: 0 auto;
      padding: 24px 16px 40px;
      background: #FFFCEB;
      color: #5A4A30;
      text-align: center;
    }

    h1 {
      font-size: 1.7rem;
      font-weight: 800;
      margin-bottom: 8px;
      color: #5A4A30;
    }

    p.desc {
      font-size: 0.95rem;
      color: #7A6A50;
      margin-top: 0;
      margin-bottom: 20px;
    }

    .card {
      background: #FFF8D8;
      border-radius: 18px;
      padding: 20px;
      margin-bottom: 20px;
      border: 2px solid #F3E9BD;
      box-shadow: 0 5px 12px rgba(0,0,0,0.08);
    }

    .section-title {
      font-size: 1.05rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: #5A4A30;
    }

    img {
      max-width: 100%;
      border-radius: 14px;
    }

    #myPhoto {
      background: #FFF3C4;
      min-height: 200px;
      object-fit: cover;
      border: 2px dashed #E4D4A0;
    }

    input[type="file"] {
      margin-top: 12px;
      width: 100%;
      font-size: 0.9rem;
      color: #5A4A30;
    }

    button {
      margin-top: 16px;
      padding: 12px 16px;
      border-radius: 999px;
      border: none;
      background: #FFD873;
      color: #5A4A30;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      width: 100%;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    button:hover:not(:disabled) {
      background: #FFCC4A;
      transform: translateY(-1px);
      transition: 0.1s ease-out;
    }

    button:disabled {
      background: #E0D2AC;
      cursor: not-allowed;
      box-shadow: none;
    }

    #resultText {
      min-height: 2.5em;
      font-size: 1.05rem;
      margin-top: 12px;
      font-weight: 700;
      color: #5A4A30;
    }

    .tagline {
      font-size: 0.9rem;
      color: #7A6A50;
      margin-top: 6px;
      min-height: 2em;
    }

    .badge {
      display: inline-block;
      padding: 6px 14px;
      border-radius: 999px;
      background: #FFF1C4;
      font-size: 0.75rem;
      color: #6C5A3B;
      margin-top: 10px;
      border: 1px solid #EAD9A3;
    }

    .footer {
      margin-top: 28px;
      font-size: 0.8rem;
      color: #9C8F75;
    }

    .test-box {
      margin-top: 24px;
      font-size: 0.85rem;
      color: #7A6A50;
    }
  </style>
</head>

<body>
  <h1>코코 닮은꼴 테스트</h1>
  <p class="desc">
    얼굴 사진을 올리면<br>
    코코 세계관 속 닮은 캐릭터를 랜덤으로 뽑아드립니다!
  </p>



  <!-- 1. 사진 업로드 -->
  <div class="card">
    <div class="section-title">1. 얼굴 사진 찍기 / 업로드</div>
    <p style="font-size:0.8rem;color:#7A6A50;margin-top:0;">
      사진은 서버에 저장되지 않고, 이 브라우저 안에서만 사용돼요.
    </p>
    <img id="myPhoto" alt="내 사진 미리보기">
    <input type="file" id="photoInput" accept="image/*" capture="user">
  </div>

  <!-- 2. 결과 카드 -->
  <div class="card">
    <div class="section-title">2. 닮은 캐릭터 뽑기</div>
    <button id="matchBtn" disabled>먼저 사진을 올려주세요</button>

    <p id="resultText"></p>
    <img id="characterImg" alt="웹툰 캐릭터" style="display:none; margin-top:8px;">
    <div id="characterTagline" class="tagline"></div>

    <div class="badge">※ 실제 얼굴 인식이 아닌 랜덤 매칭이에요!</div>
  </div>

  <div class="footer">
    Made with love · Cute Koko Edition
  </div>

  <script>
    // 1) 사진 미리보기
    const photoInput = document.getElementById('photoInput');
    const myPhoto = document.getElementById('myPhoto');
    const matchBtn = document.getElementById('matchBtn');

    photoInput.addEventListener('change', function() {
      const file = this.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        myPhoto.src = e.target.result;
        matchBtn.disabled = false;
        matchBtn.textContent = '코코 닮은 캐릭터 찾기!';
      };
      reader.readAsDataURL(file);
    });

    // 2) 캐릭터 목록 (지금은 coco.png 하나만 사용)
    const characters = [
  {
    name: '코코',
    img: 'images/coco.png',
    line: '소심하지만 마음 따뜻한 아기 호랭이 코코!'
  },
  {
    name: '곰',
    img: 'images/곰.png',
    line: '엉뚱하지만 귀여운 매력을 가진 코코의 친구!'
  },
  {
    name: '선생님',
    img: 'images/선생님.png',
    line: '잔소리도 많지만 제일 많이 챙겨주는 선생님 버전 코코.'
  }
];


    const resultText = document.getElementById('resultText');
    const characterImg = document.getElementById('characterImg');
    const characterTagline = document.getElementById('characterTagline');

    // 3) 버튼 클릭 시 캐릭터 보여주기
    matchBtn.addEventListener('click', function() {
  if (!myPhoto.src) {
    alert('먼저 얼굴 사진을 업로드해주세요!');
    return;
  }

  const randomIndex = Math.floor(Math.random() * characters.length);
  const c = characters[randomIndex];

  resultText.textContent = `당신은 「${c.name}」 와 닮았어요!`;
  characterTagline.textContent = c.line;

  characterImg.src = c.img;
  characterImg.style.display = 'block';
});

  </script>
</body>
</html>
